<div class="space-y-6">
  <div class="text-center">
    <h1 class="text-3xl font-bold mb-2">Network Override Demo</h1>
    <p class="text-base-content/70">Practice network overrides when APIs are down</p>
  </div>

  <!-- Instructions -->
  <div class="alert alert-info">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <div>
      <h3 class="font-bold">How to Override Network Requests:</h3>
      <ol class="list-decimal list-inside mt-2 space-y-1 text-sm">
        <li>Open Chrome DevTools (F12)</li>
        <li>Go to Network tab</li>
        <li>Make a request below</li>
        <li>Right-click on the request ‚Üí "Override content"</li>
        <li>Modify the response and save</li>
        <li>Try the request again to see your override!</li>
      </ol>
    </div>
  </div>

  <!-- Working API Endpoint -->
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title">‚úÖ Working API</h2>
      <p class="text-sm opacity-70 mb-4">This endpoint works fine - try overriding its response</p>
      
      <div class="flex gap-2 mb-4">
        <button 
          class="btn btn-success" 
          (click)="testWorkingApi()"
          [class.loading]="workingApiLoading()">
          Test Working API
        </button>
        <button 
          class="btn btn-secondary" 
          (click)="testPostsApi()"
          [class.loading]="postsLoading()">
          Get Posts
        </button>
      </div>

      @if (workingApiLoading()) {
        <div class="flex justify-center">
          <span class="loading loading-spinner loading-lg"></span>
        </div>
      }

      @if (workingApiData()) {
        <div class="card bg-base-200">
          <div class="card-body">
            <h3 class="font-bold">API Response:</h3>
            <pre class="text-sm bg-base-300 p-4 rounded overflow-x-auto">{{ workingApiData() | json }}</pre>
          </div>
        </div>
      }

      @if (posts().length > 0) {
        <div class="divider">Posts Data</div>
        <div class="grid gap-4">
          @for (post of posts().slice(0, 3); track post.id) {
            <div class="card bg-base-200 shadow">
              <div class="card-body p-4">
                <h3 class="font-bold">{{ post.title }}</h3>
                <p class="text-sm">{{ post.body }}</p>
                <div class="text-xs opacity-70">Post ID: {{ post.id }} | User: {{ post.userId }}</div>
              </div>
            </div>
          }
          @if (posts().length > 3) {
            <div class="text-center text-sm opacity-70">
              ... and {{ posts().length - 3 }} more posts
            </div>
          }
        </div>
      }
    </div>
  </div>

  <!-- Failing API Endpoint -->
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title">‚ùå Failing API</h2>
      <p class="text-sm opacity-70 mb-4">This endpoint returns 500 error - perfect for override practice!</p>
      
      <div class="flex gap-2 mb-4">
        <button 
          class="btn btn-error" 
          (click)="testFailingApi()"
          [class.loading]="failingApiLoading()">
          Test Failing API
        </button>
        <button 
          class="btn btn-warning" 
          (click)="simulateSlowApi()"
          [class.loading]="slowApiLoading()">
          Slow API (5s)
        </button>
      </div>

      @if (failingApiLoading()) {
        <div class="flex justify-center">
          <span class="loading loading-spinner loading-lg"></span>
        </div>
      }

      @if (slowApiLoading()) {
        <div class="flex justify-center">
          <span class="loading loading-spinner loading-lg"></span>
          <span class="ml-2">This will take 5 seconds...</span>
        </div>
      }

      @if (failingApiError()) {
        <div class="alert alert-error">
          <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <div>
            <h3 class="font-bold">API Error!</h3>
            <div class="text-sm">{{ failingApiError() }}</div>
          </div>
        </div>
      }

      @if (slowApiData()) {
        <div class="alert alert-success">
          <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span>Slow API completed! Check DevTools Network tab.</span>
        </div>
      }
    </div>
  </div>

  <!-- Mock Data Examples -->
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title">üìù Sample Override Data</h2>
      <p class="text-sm opacity-70 mb-4">Copy these JSON samples to use as override responses</p>
      
      <div class="tabs tabs-boxed mb-4">
        <a class="tab" [class.tab-active]="selectedTab() === 'users'" (click)="selectedTab.set('users')">Users</a>
        <a class="tab" [class.tab-active]="selectedTab() === 'posts'" (click)="selectedTab.set('posts')">Posts</a>
        <a class="tab" [class.tab-active]="selectedTab() === 'error'" (click)="selectedTab.set('error')">Error</a>
      </div>

      @if (selectedTab() === 'users') {
        <div class="mockup-code">
          <pre data-prefix="$"><code>// Sample users data for override</code></pre>
          <pre data-prefix=">"><code>{{ sampleUsers }}</code></pre>
        </div>
      }

      @if (selectedTab() === 'posts') {
        <div class="mockup-code">
          <pre data-prefix="$"><code>// Sample posts data for override</code></pre>
          <pre data-prefix=">"><code>{{ samplePosts }}</code></pre>
        </div>
      }

      @if (selectedTab() === 'error') {
        <div class="mockup-code">
          <pre data-prefix="$"><code>// Sample error response for override</code></pre>
          <pre data-prefix=">"><code>{{ sampleError }}</code></pre>
        </div>
      }
    </div>
  </div>

  <!-- Tips -->
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title">üí° DevTools Tips</h2>
      <div class="space-y-2 text-sm">
        <div class="flex items-start gap-2">
          <span class="badge badge-primary badge-sm mt-1">TIP</span>
          <span>Use <kbd class="kbd kbd-sm">Ctrl+Shift+I</kbd> or <kbd class="kbd kbd-sm">F12</kbd> to open DevTools</span>
        </div>
        <div class="flex items-start gap-2">
          <span class="badge badge-secondary badge-sm mt-1">TIP</span>
          <span>Network tab shows all HTTP requests with status codes, timing, and response data</span>
        </div>
        <div class="flex items-start gap-2">
          <span class="badge badge-accent badge-sm mt-1">TIP</span>
          <span>Right-click any request to copy as cURL, override content, or replay</span>
        </div>
        <div class="flex items-start gap-2">
          <span class="badge badge-info badge-sm mt-1">TIP</span>
          <span>Use the "Preserve log" checkbox to keep requests across page reloads</span>
        </div>
        <div class="flex items-start gap-2">
          <span class="badge badge-warning badge-sm mt-1">TIP</span>
          <span>Filter requests by type (XHR, JS, CSS, etc.) using the filter buttons</span>
        </div>
      </div>
    </div>
  </div>
</div>